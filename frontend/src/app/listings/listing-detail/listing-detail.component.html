<button (click)="goBack()">Back</button>

<ng-container *ngIf="vm$ | async as vm">
  <p *ngIf="vm.kind === 'loading'">lade…</p>

  <div *ngIf="vm.kind === 'error'">
    {{ vm.message }}
    <a routerLink="/listings" queryParamsHandling="preserve">Zur Liste</a>
  </div>

  <ng-container *ngIf="vm.kind === 'loaded'">
    <h1>{{ vm.data.title }}</h1>
    <img *ngIf="vm.data.images?.length"
         [ngSrc]="vm.data.images[0]"
         width="960" height="640"
         alt="{{ vm.data.title }}" priority>
    <div *ngIf="!vm.data.images?.length">Kein Bild vorhanden</div>
  </ng-container>
</ng-container>

<ng-template #loading>lade…</ng-template>